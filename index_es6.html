<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple Video Player</title>
    <link rel="stylesheet" href="./dist/style.css">
    <script>

        let onReady =  (e) => {
            const PI = Math.PI;
            console.log(PI);
            let videoFigureTag = document.getElementById('video_player');
            let videoTag = document.querySelector("#video_player video");
            let sourceTag = document.querySelector("#video_player video source");
            let sourceTag02 = document.querySelector("#video_player video source source");

            let getAnchors = document.getElementsByTagName("a");
            // or more specific...
            let getAllAnchors = document.querySelectorAll("#video_player figcaption a");

            console.log(videoFigureTag);
            console.log(videoTag);
            console.log(sourceTag02);
            console.log(getAnchors);

            let ai = 5.34533434;
            for (let ai = 0; ai<getAnchors.length; ai++){
                console.log(getAnchors[ai].getAttribute("href"));
                // debugger;
                let currentAnchor = getAnchors[ai];
                console.log(ai);
                console.log(currentAnchor);
                currentAnchor.addEventListener("click",onAnchorClick,false);
            }
            console.log("the value of ai here is " + ai);


        };

        let onAnchorClick = (e) => {
            e.preventDefault();

            let video = document.querySelector("#video_player video");
            video.removeAttribute("controls");
            video.removeAttribute("poster");

            let currentElement = e.target; // img
            let currentLink = e.target.parentElement; // anchor
            console.log(currentLink);


            let currentHref = currentLink.getAttribute("href");
            let source = document.querySelectorAll("#video_player video source");
            source[0].src = currentHref;
            video.load();
            video.play();

        };

        window.addEventListener("load",onReady,false);

    </script>
</head>
<body>
<h1>Welcome to My Video Player</h1>
<figure id="video_player">
    <video controls poster="./images/nambia1.jpg">
        <source src="./videos/nambia1.mp4" type="video/mp4">
        <source src="./videos/nambia1.webm" type="video/webm">
    </video>
    <figcaption>
        <a href="./videos/nambia1.mp4"><img src="./images/nambia1.jpg" alt="Nambia Timelapse 1"></a>
        <a href="./videos/nambia2.mp4"><img src="./images/nambia2.jpg" alt="Nambia Timelapse 2"></a>
        <a href="./videos/nambia3.mp4"><img src="./images/nambia3.jpg" alt="Nambia Timelapse 3"></a>
    </figcaption>
</figure>

</body>
</html>